"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _config = require("@verdaccio/config");
var _utils = require("@verdaccio/utils");
class Config extends _config.Config {
  constructor(config) {
    config.configPath = config.self_path;
    super(config, {
      forceMigrateToSecureLegacySignature: false
    });
    // Temporary solution for plugins that depends on legacy configuration files
    this.getMatchedPackagesSpec = pkgName => {
      return (0, _utils.getMatchedPackagesSpec)(pkgName, this.packages);
    };
  }
}
var _default = exports.default = Config;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnIiwicmVxdWlyZSIsIl91dGlscyIsIkNvbmZpZyIsIkNvbmZpZ0NvcmUiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImNvbmZpZ1BhdGgiLCJzZWxmX3BhdGgiLCJmb3JjZU1pZ3JhdGVUb1NlY3VyZUxlZ2FjeVNpZ25hdHVyZSIsImdldE1hdGNoZWRQYWNrYWdlc1NwZWMiLCJwa2dOYW1lIiwicGFja2FnZXMiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xpYi9jb25maWcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZmlnIGFzIENvbmZpZ0NvcmUgfSBmcm9tICdAdmVyZGFjY2lvL2NvbmZpZyc7XG5pbXBvcnQgeyBnZXRNYXRjaGVkUGFja2FnZXNTcGVjIH0gZnJvbSAnQHZlcmRhY2Npby91dGlscyc7XG5cbmNsYXNzIENvbmZpZyBleHRlbmRzIENvbmZpZ0NvcmUge1xuICBwdWJsaWMgY29uc3RydWN0b3IoY29uZmlnOiBhbnkpIHtcbiAgICBjb25maWcuY29uZmlnUGF0aCA9IGNvbmZpZy5zZWxmX3BhdGg7XG4gICAgc3VwZXIoY29uZmlnLCB7IGZvcmNlTWlncmF0ZVRvU2VjdXJlTGVnYWN5U2lnbmF0dXJlOiBmYWxzZSB9KTtcbiAgICAvLyBUZW1wb3Jhcnkgc29sdXRpb24gZm9yIHBsdWdpbnMgdGhhdCBkZXBlbmRzIG9uIGxlZ2FjeSBjb25maWd1cmF0aW9uIGZpbGVzXG4gICAgdGhpcy5nZXRNYXRjaGVkUGFja2FnZXNTcGVjID0gKHBrZ05hbWUpID0+IHtcbiAgICAgIHJldHVybiBnZXRNYXRjaGVkUGFja2FnZXNTcGVjKHBrZ05hbWUsIHRoaXMucGFja2FnZXMpO1xuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFFQSxNQUFNRSxNQUFNLFNBQVNDLGNBQVUsQ0FBQztFQUN2QkMsV0FBV0EsQ0FBQ0MsTUFBVyxFQUFFO0lBQzlCQSxNQUFNLENBQUNDLFVBQVUsR0FBR0QsTUFBTSxDQUFDRSxTQUFTO0lBQ3BDLEtBQUssQ0FBQ0YsTUFBTSxFQUFFO01BQUVHLG1DQUFtQyxFQUFFO0lBQU0sQ0FBQyxDQUFDO0lBQzdEO0lBQ0EsSUFBSSxDQUFDQyxzQkFBc0IsR0FBSUMsT0FBTyxJQUFLO01BQ3pDLE9BQU8sSUFBQUQsNkJBQXNCLEVBQUNDLE9BQU8sRUFBRSxJQUFJLENBQUNDLFFBQVEsQ0FBQztJQUN2RCxDQUFDO0VBQ0g7QUFDRjtBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBQyxPQUFBLEdBRWNaLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=